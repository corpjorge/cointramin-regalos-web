"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[871],{871:(a,o,e)=>{e.r(o),e.d(o,{default:()=>aa});var s=e(821),l={class:"container-fluid"},t=(0,s._)("div",{class:"d-sm-flex align-items-center justify-content-between mb-4"},[(0,s._)("h1",{class:"h3 mb-0 text-gray-800"},"Inicio ")],-1),i={key:0,class:"alert alert-success",role:"alert"},d={key:1,class:"alert alert-danger",role:"alert"},c={class:"row"},n={class:"col-lg-4 mb-4"},r={class:"card shadow mb-4"},u=(0,s._)("div",{class:"card-header py-3"}," Crear asociado ",-1),b={class:"card-body"},m={class:"mb-3"},p=(0,s._)("label",{for:"mail",class:"form-label"},"Cedula",-1),f={class:"mb-3"},h=(0,s._)("label",{for:"nameCreate",class:"form-label"},"Nombre",-1),_={class:"mb-3"},v=(0,s._)("label",{for:"tipo",class:"form-label"},"Tipo de regalo",-1),y=(0,s._)("button",{type:"submit",class:"btn btn-primary"},"Crear",-1),w={class:"col-lg-4 mb-4"},g={class:"card shadow mb-4"},k=(0,s._)("div",{class:"card-header py-3"}," Subir asociados ",-1),C={class:"card-body"},x=[(0,s._)("i",{class:"fas fa-up text-white-50"},null,-1),(0,s.Uk)(" Subir ")],D=(0,s._)("hr",null,null,-1),A=(0,s._)("a",{href:"/ejemplo.xlsx",class:"m-2"},"Clic aqui para descargar ejemplo de archivo de cargue",-1),N=(0,s.uE)('<div class="col-lg-4 mb-4"><div class="card shadow mb-4"><div class="card-header py-3"> Descargar o eliminar </div><div class="card-body"><a href="/asociados/export" class="d-none d-sm-inline-block btn btn-sm btn-primary shadow-sm" style="color:whitesmoke;"><i class="fas fa-download fa-sm text-white-50"></i> Generar reporte </a><hr><button type="button" class="btn btn-danger btn-sm" data-bs-toggle="modal" data-bs-target="#exampleModal"> Vaciar base de datos </button></div></div></div>',1),U={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},T={class:"modal-dialog"},B={class:"modal-content"},V=(0,s._)("div",{class:"modal-header"},[(0,s._)("h5",{class:"modal-title",id:"exampleModalLabel"},"Vaciar base de datos"),(0,s._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),Z=(0,s._)("div",{class:"modal-body"}," ¿Esta seguro que desea vaciar la base de datos? ",-1),q={class:"modal-footer"},z=(0,s._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1),M={class:"row"},F={class:"col-lg-6 mb-4"},H={class:"card shadow mb-4"},j=(0,s._)("div",{class:"card-header py-3"},[(0,s._)("h6",{class:"m-0 font-weight-bold text-primary"},"Buscar asociados")],-1),E={class:"card-body"},S=(0,s._)("label",{htmlFor:"inputPassword5",class:"form-label"},"Cédula ",-1),G={key:0,class:"table"},L=(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",{scope:"col"},"#"),(0,s._)("th",{scope:"col"},"Nombre"),(0,s._)("th",{scope:"col"},"Cedula"),(0,s._)("th",{scope:"col"},"Tipo")])],-1),P={scope:"row"},I=["onClick"],K={class:"col-lg-6 mb-4"},Y={key:0,class:"card shadow mb-4"},$=(0,s._)("div",{class:"card-header py-3"},[(0,s._)("h6",{class:"m-0 font-weight-bold text-primary"},"Usuario")],-1),J={class:"card-body"},O={class:"mb-3"},Q=(0,s._)("b",null,"Nombre: ",-1),R=(0,s._)("b",null,"Cedula: ",-1);var W=e(845);const X={name:"Asociados",data:function(){return{file:null,asociados:null,asociado:null,cedula:null,show:!1,error:!1,asociadoNuevo:{}}},methods:{handleFileUpload:function(){this.file=this.$refs.file.files[0]},uploadAsociados:function(){var a=this,o=new FormData;o.append("file",this.file),W.Z.post("/asociados/import",o,{headers:{"Content-Type":"multipart/form-data"}}).then((function(){a.show=!0,setTimeout((function(){a.show=!1}),6e3)})).catch((function(){a.error=!1,setTimeout((function(){a.error=!1}),6e3)}))},buscarAsociado:function(){var a=this;W.Z.post("/buscar",{cedula:this.cedula}).then((function(o){a.asociado=null,a.asociados=o.data}))},verAsociado:function(a){var o=this;W.Z.get("/asociado/"+a).then((function(a){return o.asociado=a.data}))},eliminar:function(a){var o=this;W.Z.delete("/asociado/"+a).then((function(){o.asociado=null,o.asociados=null,o.show=!0,setTimeout((function(){o.show=!1}),6e3)}))},crearAsociado:function(){var a=this;W.Z.post("/asociado",this.asociadoNuevo).then((function(){a.asociadoNuevo={},a.show=!0,setTimeout((function(){a.show=!1}),6e3)}))},deleteBD:function(){var a=this;W.Z.delete("bd/delete").then((function(){a.show=!0,setTimeout((function(){a.show=!1}),6e3)})).catch((function(){a.error=!0,setTimeout((function(){a.error=!1}),6e3)}))}}};const aa=(0,e(744).Z)(X,[["render",function(a,o,e,W,X,aa){return(0,s.wg)(),(0,s.iD)("div",l,[t,X.show?((0,s.wg)(),(0,s.iD)("div",i," Guardado correctamente ")):(0,s.kq)("",!0),X.error?((0,s.wg)(),(0,s.iD)("div",d," Ha ocurrido un error ")):(0,s.kq)("",!0),(0,s._)("div",c,[(0,s._)("div",n,[(0,s._)("div",r,[u,(0,s._)("div",b,[(0,s._)("form",{onSubmit:o[3]||(o[3]=(0,s.iM)((function(){return aa.crearAsociado&&aa.crearAsociado.apply(aa,arguments)}),["prevent"])),autocomplete:"off"},[(0,s._)("div",m,[p,(0,s.wy)((0,s._)("input",{type:"number",class:"form-control",id:"mail","aria-describedby":"emailHelp","onUpdate:modelValue":o[0]||(o[0]=function(a){return X.asociadoNuevo.cedula=a})},null,512),[[s.nr,X.asociadoNuevo.cedula]])]),(0,s._)("div",f,[h,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control",id:"nameCreate","onUpdate:modelValue":o[1]||(o[1]=function(a){return X.asociadoNuevo.nombre=a})},null,512),[[s.nr,X.asociadoNuevo.nombre]])]),(0,s._)("div",_,[v,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control",id:"tipo","onUpdate:modelValue":o[2]||(o[2]=function(a){return X.asociadoNuevo.tipo=a})},null,512),[[s.nr,X.asociadoNuevo.tipo]])]),y],32)])])]),(0,s._)("div",w,[(0,s._)("div",g,[k,(0,s._)("div",C,[(0,s._)("input",{type:"file",id:"file",class:"form-control",ref:"file",onChange:o[4]||(o[4]=function(a){return aa.handleFileUpload(a)})},null,544),(0,s._)("button",{onClick:o[5]||(o[5]=function(){return aa.uploadAsociados&&aa.uploadAsociados.apply(aa,arguments)}),class:"btn btn-sm btn-primary my-2",style:{color:"whitesmoke"}},x)]),D,A])]),N]),(0,s._)("div",U,[(0,s._)("div",T,[(0,s._)("div",B,[V,Z,(0,s._)("div",q,[z,(0,s._)("button",{type:"button",class:"btn btn-danger","data-bs-dismiss":"modal",onClick:o[6]||(o[6]=function(){return aa.deleteBD&&aa.deleteBD.apply(aa,arguments)})},"Vaciar BD")])])])]),(0,s._)("div",M,[(0,s._)("div",F,[(0,s._)("div",H,[j,(0,s._)("div",E,[S,(0,s.wy)((0,s._)("input",{type:"text",id:"inputPassword5",class:"form-control","aria-describedby":"passwordHelpBlock",autocomplete:"off","onUpdate:modelValue":o[7]||(o[7]=function(a){return X.cedula=a})},null,512),[[s.nr,X.cedula]]),(0,s._)("button",{class:"btn btn-sm btn-success my-2",onClick:o[8]||(o[8]=function(){return aa.buscarAsociado&&aa.buscarAsociado.apply(aa,arguments)})},"Buscar!"),X.asociados?((0,s.wg)(),(0,s.iD)("table",G,[L,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(X.asociados,(function(a){return(0,s.wg)(),(0,s.iD)("tr",{key:a.id},[(0,s._)("th",P,(0,s.zw)(a.id),1),(0,s._)("td",null,(0,s.zw)(a.nombre),1),(0,s._)("td",null,(0,s.zw)(a.cedula),1),(0,s._)("td",null,(0,s.zw)(a.tipo),1),(0,s._)("td",null,[(0,s._)("button",{class:"btn btn-sm btn-info my-2",onClick:function(o){return aa.verAsociado(a.id)}},"ver ",8,I)])])})),128))])])):(0,s.kq)("",!0)])])]),(0,s._)("div",K,[X.asociado?((0,s.wg)(),(0,s.iD)("div",Y,[$,(0,s._)("div",J,[(0,s._)("div",O,[(0,s._)("h6",null,[Q,(0,s.Uk)((0,s.zw)(X.asociado.nombre),1)]),(0,s._)("h6",null,[R,(0,s.Uk)((0,s.zw)(X.asociado.cedula),1)]),(0,s._)("button",{class:"btn btn-primary my-2",onClick:o[9]||(o[9]=function(a){return aa.eliminar(X.asociado.id)})},"Eliminar ")])])])):(0,s.kq)("",!0)])])])}]])}}]);